{"ast":null,"code":"export default class Unit {\n  constructor(strategy) {\n    this._unitType = void 0;\n    this._HP = void 0;\n    this._damage = void 0;\n    this._initiative = void 0;\n    this._actionType = void 0;\n    this._imgPath = void 0;\n    this._id = void 0;\n    this._maxHP = void 0;\n    this.strategy = void 0;\n    this.strategy = strategy;\n  }\n\n  doHPreduce(incomingDamage, isProtected) {\n    let damage = incomingDamage;\n\n    if (isProtected) {\n      damage = incomingDamage * 0.5;\n    }\n\n    if (this._HP > damage) {\n      this._HP -= damage;\n    } else {\n      this._HP = 0;\n    }\n\n    return this._HP;\n  }\n\n  setAgentTarget() {\n    console.log(\"lala\");\n  }\n\n  showInfo() {\n    console.log(this);\n  }\n\n  getHP() {\n    return this._HP;\n  }\n\n  doHPUIReduce(HPUI, incomingDamage, isProtected) {\n    console.log(\"Its HPReduce UI\");\n    console.log(\"Hp before atack\", HPUI);\n    let damage = incomingDamage;\n    console.log(\"\", damage);\n\n    if (isProtected) {\n      damage = incomingDamage * 0.5;\n    }\n\n    if (damage >= HPUI) {\n      HPUI = 0;\n    } else {\n      HPUI -= damage;\n    }\n\n    console.log(\"Hp after atack\", HPUI);\n    return HPUI;\n  }\n\n  doAction(atackingUnit, target, targets, battleField, HP, isProtected, support) {\n    return this.strategy.doAlgorithm(atackingUnit, target, targets, battleField, HP, isProtected, support);\n  }\n\n  doSelect(battleField) {\n    return this.strategy.doTargetSelection(this, battleField);\n  }\n\n}","map":{"version":3,"sources":["/home/kirill/WorkFolder/GameTS/my-app/src/strategy/classes/unit/Unit.ts"],"names":["Unit","constructor","strategy","_unitType","_HP","_damage","_initiative","_actionType","_imgPath","_id","_maxHP","doHPreduce","incomingDamage","isProtected","damage","setAgentTarget","console","log","showInfo","getHP","doHPUIReduce","HPUI","doAction","atackingUnit","target","targets","battleField","HP","support","doAlgorithm","doSelect","doTargetSelection"],"mappings":"AAEA,eAAe,MAAeA,IAAf,CAAqC;AAWlDC,EAAAA,WAAW,CAACC,QAAD,EAAsB;AAAA,SAVxBC,SAUwB;AAAA,SATxBC,GASwB;AAAA,SARxBC,OAQwB;AAAA,SAPxBC,WAOwB;AAAA,SANxBC,WAMwB;AAAA,SALxBC,QAKwB;AAAA,SAJxBC,GAIwB;AAAA,SAHxBC,MAGwB;AAAA,SADzBR,QACyB;AAC/B,SAAKA,QAAL,GAAgBA,QAAhB;AACD;;AAEDS,EAAAA,UAAU,CAACC,cAAD,EAAyBC,WAAzB,EAAgD;AACxD,QAAIC,MAAM,GAAGF,cAAb;;AACA,QAAIC,WAAJ,EAAiB;AACfC,MAAAA,MAAM,GAAGF,cAAc,GAAG,GAA1B;AACD;;AACD,QAAI,KAAKR,GAAL,GAAWU,MAAf,EAAuB;AACrB,WAAKV,GAAL,IAAYU,MAAZ;AACD,KAFD,MAEO;AACL,WAAKV,GAAL,GAAW,CAAX;AACD;;AAED,WAAO,KAAKA,GAAZ;AACD;;AACDW,EAAAA,cAAc,GAAG;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;;AACDC,EAAAA,QAAQ,GAAG;AACTF,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD;;AAEDE,EAAAA,KAAK,GAAG;AACN,WAAO,KAAKf,GAAZ;AACD;;AAEDgB,EAAAA,YAAY,CAACC,IAAD,EAAeT,cAAf,EAAuCC,WAAvC,EAA8D;AACxEG,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BI,IAA/B;AACA,QAAIP,MAAM,GAAGF,cAAb;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ,EAAeH,MAAf;;AACA,QAAID,WAAJ,EAAiB;AACfC,MAAAA,MAAM,GAAGF,cAAc,GAAG,GAA1B;AACD;;AACD,QAAIE,MAAM,IAAIO,IAAd,EAAoB;AAClBA,MAAAA,IAAI,GAAG,CAAP;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI,IAAIP,MAAR;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BI,IAA9B;AACA,WAAOA,IAAP;AACD;;AAEMC,EAAAA,QAAP,CACEC,YADF,EAEEC,MAFF,EAGEC,OAHF,EAIEC,WAJF,EAKEC,EALF,EAMEd,WANF,EAOEe,OAPF,EAQY;AACV,WAAO,KAAK1B,QAAL,CAAc2B,WAAd,CACLN,YADK,EAELC,MAFK,EAGLC,OAHK,EAILC,WAJK,EAKLC,EALK,EAMLd,WANK,EAOLe,OAPK,CAAP;AASD;;AACME,EAAAA,QAAP,CAAgBJ,WAAhB,EAAuD;AACrD,WAAO,KAAKxB,QAAL,CAAc6B,iBAAd,CAAgC,IAAhC,EAAsCL,WAAtC,CAAP;AACD;;AA7EiD","sourcesContent":["import IStrategy from \"../../interface/IConcreteStrategy\";\nimport IUnit from \"../../interface/IUnit\";\nexport default abstract class Unit implements IUnit {\n  abstract _unitType: string;\n  abstract _HP: number;\n  abstract _damage: number;\n  abstract _initiative: number;\n  abstract _actionType: void;\n  abstract _imgPath: string;\n  abstract _id: number;\n  abstract _maxHP:number\n\n  private strategy: IStrategy;\n  constructor(strategy: IStrategy) {\n    this.strategy = strategy;\n  }\n\n  doHPreduce(incomingDamage: number, isProtected?: boolean) {\n    let damage = incomingDamage;\n    if (isProtected) {\n      damage = incomingDamage * 0.5;\n    }\n    if (this._HP > damage) {\n      this._HP -= damage;\n    } else {\n      this._HP = 0;\n    }\n\n    return this._HP;\n  }\n  setAgentTarget() {\n    console.log(\"lala\");\n  }\n  showInfo() {\n    console.log(this);\n  }\n\n  getHP() {\n    return this._HP;\n  }\n\n  doHPUIReduce(HPUI: number, incomingDamage: number, isProtected?: boolean) {\n    console.log(\"Its HPReduce UI\");\n    console.log(\"Hp before atack\", HPUI);\n    let damage = incomingDamage;\n    console.log(\"\",damage)\n    if (isProtected) {\n      damage = incomingDamage * 0.5;\n    }\n    if (damage >= HPUI) {\n      HPUI = 0;\n    } else {\n      HPUI -= damage;\n    }\n    console.log(\"Hp after atack\", HPUI);\n    return HPUI;\n  }\n\n  public doAction(\n    atackingUnit: number,\n    target: number,\n    targets: number[],\n    battleField: Array<Unit>,\n    HP: number[],\n    isProtected?: boolean[],\n    support?: string\n  ): number[] {\n    return this.strategy.doAlgorithm(\n      atackingUnit,\n      target,\n      targets,\n      battleField,\n      HP,\n      isProtected,\n      support\n    );\n  }\n  public doSelect(battleField: Array<Unit>): Array<Unit> {\n    return this.strategy.doTargetSelection(this, battleField);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}